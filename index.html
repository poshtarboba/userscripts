<!DOCTYPE html>
<html>
<head>
	<title>userscripts</title>
	<meta charset="utf-8">
	<style>
		body {
			padding: 10px 20px;
			color: #333;
			font: normal 18px/28px Helvetica, Arial, sans-serif;
		}
		section {
			padding: 20px 0;
		}
		code, pre {
			display: block;
			margin: 10px 0 20px;
			padding: 16px 20px;
			font-family: monospace;
			background: #ffe;
			border: 2px dashed #eeb;
			-moz-tab-size: 2;
			tab-size: 2;
		}
	</style>
</head>
<body>

	<section>
		<h1>Юзер-стилі, юзер-скрипти</h1>
		<p>Юзер-стилі та юзер-скрипти дозволяють оформити будь-який сайт за вашим смаком, змінити стилі, добавити скрипти, видаляти непотрібні блоки і т.д. В цілому - покращити зручність використання сайтів.</p>
		<p>Для використання юзер-стилів вам потрібно встановити в браузер плагін <strong>Stylus</strong>, для юзер-скриптів - <strong>TamperMonkey</strong>.</p>
		<p>Цю сторінку я створив для себе, іноді плагіни падають, обнуляють код, вінду чи браузер треба переставити, розвернути на іншому компі, то щоб мати базу скриптів та стилів. Можливо, в майбутньому буде онлайн-синхронізація.</p>
		<p>Для юзер-скриптів та юзер-стилів є функції імпорта/експорта, та я трохи задовбався з ними, окрім того - не завжди була можливість вчасно зробити експорт (здох вінт, впала вінда, браузер покоцав розширення...). Тому я зробив один універсальний юзер-скрипт, який підтягує персональні скрипти до кожного сайту з гітхаба.</p>
		<p>Ну і є декілька спеціальних юзер-скриптів, які треба запустити перед початком загрузки сайту чи де доводиться прописувати логін-паролі - я їх вже прописую локально в браузер, тут лише заготовки лежать.</p>
	</section>

	<h2>Юзер-стилі</h2>

	<section id="ucss_global">
		<h3>Анти-куки</h3>
		<p>Бісять повідомлення сайтів про використання куків, при цьому далеко не всі сайти запам'ятовують, що я клацнув згоду і через деякий час знову набридають цими вспливашками.<p>
		<p>Дані стилі ховають це та аналогічні повідомлення:</p>
		<pre>
#brmrk_bb, #brmrk_pup { display: none !important;}</pre>
	</section>

	<section id="ucss_youtube">
		<h3>Youtube</h3>
		<p>По-перше, встанови темку Nyan-cat з публічних юзер-стилів.</p>
		<p>По-друге, стилі, що відключають заважаючі блоки:</p>
		<pre>
.ytp-pause-overlay { display: none !important; }
#masthead-ad { display: none !important; }</pre>
	</section>
	
	<!--
	<section id="">
		<h3></h3>
		<p><p>
		<pre>
		</pre>
	</section>
	-->

	<h2>Юзер-скрипти</h2>
	
	<section>
		<h3>Головний скрипт</h3>
		<pre>
// ==UserScript==
// @name         main
// @match        http*://*/*
// @require      https://poshtarboba.github.io/userscripts/main.js?4
// ==/UserScript==</pre>
		<p>Підтягує скрипти для наступних сайтів:</p>
		<ul>
			<li>imgsrc.ru</li>
			<li>9gag.com</li>
			<li>e621.net</li>
			<li>chan.sankakucomplex.com</li>
			<li>jpg4.info</li>
			<li>reactor.cc</li>
		</ul>
		<p>
			<strong>imgsrc.ru</strong>:<br>
			- у стрічці фоток повні версії фоток загружаються при скролі, скрипт заставляє їх загрузитися одразу;<br>
			- добавляє посилання "all" - всі фото альбому у вигляді стрічки без зайвих елементів, для зручного перегляду та збереження альбому;<br>
			- створює стручку всіх фото альбому без зайвих елементів, для зручного перегляду та збереження альбому (також міняє title на зручне для збереження);<br>
			- у стрічці всіх фото гортання фоток повішано на кнопки A, Q, кнопкою W можна змінювати розмір фоток;<br>
			- у списках альбомів у пошуку та на сторінці юзера добавляє кнопку загрузки мініатюр з першої сторінки кожного альбому.
		</p>
		<p>
			<strong>9gag.com</strong>:<br>
			- добавляє елементи керування для відео (добавляє не оптимально, щоп'ять секунд).
		</p>
		<p>
			<strong>e621.net</strong>:<br>
			- добавляє деякі стилі для пристосування зображень до розміру екрану;<br>
			- при відкритті сторінки з картинкою сторінка проскролюється до верху картинки;<br>
			- виділяє фоном теги у списку зліва, що рідко вживаються;<br>
			- на сторінках з мініатюрами у підменю добавляє кнопки створення стрічки зображень для зручного перегляду;<br>
			- у стрічці зображень гортання зображень повішано на кнопки A, Q, кнопкою W можна змінювати розмір зображень.
		</p>
		<p>
			<strong>chan.sankakucomplex.com</strong>:<br>
			- добав скрипт :before, що буде завантажуватися перед початком завантаження сторінки, він блокує всіляку рекламну фігню на сайті;<br>
			- добавляє стилі для оптимізації зображень під розміри екрану, приховує зайві елементи;<br>
			- при відкритті сторінки з картинкою сторінка проскролюється до верху картинки;<br>
			- забирає target="_blank" у мініатюр рекомендованих зображень.
		</p>
		<p>
			<strong>jpg4.info</strong>: не працюэ, переробити.
		</p>
		<p>
			<strong>reactor.cc</strong>:<br>
			- ховає кнопки шарінга;<br>
			- добавляє кнопки лайків/дизлайків для топових коментарів у стрічці постів.
		</p>
	</section>

	<section>
		<h3>diafilmy.su</h3>
		<p>Скрипт знищує слайдшоу щоб всі слайди можна було переглянути у вигляді стрічки</p>
		<pre>
// @match        http://diafilmy.su/*

setTimeout(function (){
	$('.cycle-slideshow').cycle('destroy').css('height', 'auto');
}, 2000);
		</pre>
	</section>

	<section>
		<h3>Локальні скрипти</h3>
		<p><a href="local.imgsrc.ru.js">local.imgsrc.ru.js</a> - треба прописати пароль, в потрібні поля забиває логін/пароль, або ставить EZ-пароль альбомам.</p>
		<p><a href="local.jpg4.info.js">local.jpg4.info.js</a> - TODO: переписати, бо не працює</p>
	</section>

	<!--<section>
		<h3>Автолайкер для Youtube</h3>
		<p>Хочеться віддячувати авторам відео на Youtube хоча-б лайками, але ліньки щоразу скролити сторінку вниз, жмакати той лайк...</p>
		<p>Тепер всі відео, які я дивлюся - лайкаються автоматично (а ті відео, що мені не подобаються, я не дивлюся, ну, чи можна встигнути швиденько дізлайкнути).</p>
		<pre>
// ==UserScript==
// @name         YouTube Autoliker
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://www.youtube.com/*
// @grant        none
// ==/UserScript==

(function() {
	'use strict';
	function randomTime(){ return Math.round(Math.random()*10000) + 10000; }
	setTimeout(autoLike, randomTime());
	function autoLike(){
		let button = document.querySelector('ytd-toggle-button-renderer a');
		let isLikeActive = button.parentElement.classList.contains('style-default-active');
		let idParent = button.parentElement.getAttribute('id');
		if (button && !isLikeActive && idParent !== 'notification-button') {
			button.dispatchEvent(new Event('click'));
		}
		setTimeout(autoLike, randomTime());
	}
})();</pre>
	</section>-->
	
	<!--<section id="js_github">
		<h3>Кнопка Network на GitHub</h3>
		<p>З конжим новим редизайном гітхаб все далі і далі ховає кнопку Network. Я вирішив повернути її в те місце, де вона була колись давно-давно, на кожну сторінку проекта.</p>
		<pre>
// ==UserScript==
// @name         GitHub
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        http*://github.com/*
// @grant        none
// ==/UserScript==

(function() {
	'use strict';
	addNetworkButton();
	setInterval(addNetworkButton, 1000);
	function addNetworkButton(){
		var nav = document.querySelector('.reponav');
		var btn = document.querySelector('.network-button');
		if (btn) {
			if (document.baseURI.substr(-8) === '/network') {
				nav.querySelectorAll('.selected').forEach(function(item){ item.classList.remove('selected'); });
				btn.classList.add('selected');
			}
			return;
		}
		if (nav) {
			var href = nav.querySelector('a[data-selected-links^="repo_wiki"]').getAttribute('href').replace('wiki', 'network');
			var a = document.createElement('a');
			a.setAttribute('href', href);
			a.classList.add('reponav-item', 'network-button');
			a.innerText = "Network";
			nav.appendChild(a);
		}
	}
})();</pre>
	</section>-->
	
	<!--<section id="js_e621">
		<h3>Video autoplay для e621</h3>
		<p>Не вистачало автоматичного програвання відео на e621.<p>
		<pre>
// ==UserScript==
// @name         e621
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://e621.net/*
// @grant        none
// ==/UserScript==

(function() {
	'use strict';
	document.querySelectorAll('video').forEach(function(video){
		video.src = video.querySelector('source').src;
		video.autoplay = true;
	});
})();</pre>
	</section>-->

	<!--<section id="js_dosgames">
		<h3>Classicreload DOS Games fix</h3>
		<p>Сайт задовбує алертами. Хай виводить свої повідомлення в консоль.<p>
		<p>Встанови в налаштуваннях <strong>Запускати при: document-start</strong> про всякий випадок.</p>
		<pre>
// ==UserScript==
// @name         classicreload DOS Games
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://classicreload.com/*
// @grant        none
// ==/UserScript==

(function() {
	'use strict';
	window.alert = window.console.log;
})();</pre>
	</section>-->

	<!--<section id="js_chan">
		<h3>Антиадблокер для чана</h3>
		<p>Цей сайт задовбує попередженнями про адблок. Зробіть нормальну рекламу, то і не буде адблока. А то по 20 айфреймів тулите, воно кожну сторінку грузить по хвилині, ще й всю пам'ять вижирає.</p>
		<p>Хитруни, використовують eval. Та на тих хитрунів свої хитрощі знайдемо.</p>
		<p>Також добавляє контроли для відео.</p>
		<p>Встанови в налаштуваннях <strong>Запускати при: document-body</strong> про всякий випадок.</p>
		<pre>
// ==UserScript==
// @name         chan-ad
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://chan.sankakucomplex.com/*
// @grant        none
// ==/UserScript==

(function() {
	'use strict';
	window.eval = function(){ console.log('run eval'); }
	setTimeout(function(){
		document.querySelectorAll('video').forEach(function(e){
			e.controls = true;
		});
	}, 3000);
})();</pre>
	</section>-->

</body>
</html>